<div flow-init ng-controller="UploadController"
       flow-name="uploader.flow"
       flow-files-added="processFiles($files)">
    <span class="btn btn-default" flow-btn flow-attrs="{accept:'image/*'}">
      Single Image
      <input type="file" ng-model="singleUpload" style="visibility: hidden; position:absolute;">
    </span>
    <span class="btn btn-default" flow-btn flow-directory flow-attrs="{accept:'image/*'}">
      Image Folder
      <input type="file" ng-model="folderUpload" accept="image/*" style="visibility: hidden; position: absolute;">
    </span>

  <!-- <span class="btn btn-default" flow-btn flow-attrs="{accept:'image/*'}">
    Single Image
    <input type="file" ng-model="singleUpload" style="visibility: hidden; position:absolute;">
  </span>
  <span class="btn btn-default" flow-btn flow-directory flow-attrs="{accept:'image/*'}">
    Image Folder
    <input type="file" ng-model="folderUpload" accept="image/*" style="visibility: hidden; position: absolute;">
  </span> -->
  <br>
  <p>Please enter the information that applies to the image(s). (optional)</p>
  <br>

  <!--Remove the user option later-->
  <div class="username">
    <div class="form-group">
      <label for="usernameInput">Username</label>
      <input class="form-control input-sm" ng-model="imgUser" type="text" style="width: 50%;">
    </div>
  </div>

  <!--Maybe make this a drop-down box later-->
  <div class="permission">
    <div class="form-group">
      <label for="permissionInput">Permission (public, private, group)</label>
      <input class="form-control input-sm" ng-model="imgPermit" type="text" style="width: 50%;">
    </div>
  </div>

  <div class="subject">
    <div class="form-group">
      <label for="subjectInput">Subject</label>
      <input class="form-control input-sm" ng-model="imgSubject" type="text" style="width: 50%;">
    </div>
  </div>

  <div class="location">
    <div class="form-group">
      <label for="locationInput">Location</label>
      <input class="form-control input-sm" ng-model="imgLocation" type="text" style="width: 50%;">
    </div>
  </div>

  <div class="when">
    <div class="form-group">
      <label for="whenInput">When</label>
      <input class="form-control input-sm" ng-model="imgWhen" type="text" style="width: 50%;">
    </div>
  </div>

  <div class="description">
    <div class="form-group">
      <label for="descInput">Description</label>
      <input class="form-control input-sm" ng-model="imgDesc" type="text" style="width: 50%;">
    </div>
  </div>

  <!-- <div class="well">
    <a class="btn btn-small btn-success" ng-click="$flow.resume()">Resume all</a>
    <a class="btn btn-small btn-danger" ng-click="$flow.pause()">Pause all</a>
    <a class="btn btn-small btn-info" ng-click="$flow.cancel()">Cancel all</a>
  </div> -->

  <!-- <div ng-repeat="file in $flow.files" class="transfer-box">
    {{file.relativePath}}
    <div class="progress progress-striped" ng-class="{active: file.isUploading()}">
      <div class="progress-bar" role="progressbar"
           aria-valuenow="{{file.progress() * 100}}"
           aria-valuemin="0"
           aria-valuemax="100"
           ng-style="{width: (file.progress() * 100) + '%'}">
        <span class="sr-only">{{file.progress()}}% Complete</span>
      </div>
    </div>
    <div class="btn-group">
      <a class="btn btn-xs btn-warning" ng-click="file.pause()" ng-show="!file.paused && file.isUploading()">
        Pause
      </a>
      <a class="btn btn-xs btn-warning" ng-click="file.resume()" ng-show="file.paused">
        Resume
      </a>
      <a class="btn btn-xs btn-danger" ng-click="file.cancel()">
        Cancel
      </a>
      <a class="btn btn-xs btn-info" ng-click="file.retry()" ng-show="file.error">
        Retry
      </a>
    </div>
  </div> -->
  <button type="button" class="btn btn-default" ng-show="submitButton" ng-click="submit($flow.files)">Upload</button>
  <img flow-img="$flow.files[0]" />
</div>

  <!--
  <input type="file" flow-btn />
  <input type="file" flow-btn flow-directory />
    Input OR Other element as upload button
  <span flow-btn>Upload File</span>
  <tr ng-repeat="file in $flow.files">
      <td>{{$index+1}}</td>
      <td>{{file.name}}</td>
  </tr>
-->
<!-- <div flow-init="{target: '/upload'}"
     flow-files-submitted="$flow.upload()"
     flow-file-success="$file.msg = $message">

  <input type="file" flow-btn/>
  Input OR Other element as upload button
  <span class="btn" flow-btn>Upload File</span>

  <table>
    <tr ng-repeat="file in $flow.files">
        <td>{{$index+1}}</td>
        <td>{{file.name}}</td>
        <td>{{file.msg}}</td>
    </tr>
  </table>
</div> -->

<!-- <body ng-app="myApp">
    <div ng-controller="myController">

        <input type="file" id="file1" name="file" multiple
            ng-files="getTheFiles($files)" />

        <input type="button" ng-click="uploadFiles()" value="Upload" />
    </div>

    <div flow-init flow-files-submitted="$flow.upload()">
    <div class="drop" flow-drop ng-class="dropClass">
      <input type="file" flow-btn />
      <input type="file" flow-btn flow-directory />
        Input OR Other element as upload button
        <span flow-btn>Upload File</span>
      <span class="btn btn-default" flow-btn>
        Upload File
        <input type="file" multiple="multiple" style="visibility:hidden; postition:absolute;">
      </span>
      <span class="btn btn-default" flow-btn flow-directory ng-show="$flow.supportDirectory">
        Upload Folder
        <input type="file" multiple="multiple" webkitdirectory="webkitdirectory" style="visibility: hidden; position: absolute">
      </span>
      <b>OR</b>
      Drag And Drop your file here
    </div>

    <br/>

    <div class="well">
      <a class="btn btn-small btn-success" ng-click="$flow.resume()">Resume all</a>
      <a class="btn btn-small btn-danger" ng-click="$flow.pause()">Pause all</a>
      <a class="btn btn-small btn-info" ng-click="$flow.cancel()">Cancel all</a>
      <span class="label label-info">Total Size: {{$flow.getSize()}}bytes</span>
    </div>

    <div>

      <div ng-repeat="file in $flow.files" class="transfer-box">
        {{file.relativePath}} ({{file.size}}bytes)
        <div class="progress progress-striped" ng-class="{active: file.isUploading()}">
          <div class="progress-bar" role="progressbar"
               aria-valuenow="{{file.progress() * 100}}"
               aria-valuemin="0"
               aria-valuemax="100"
               ng-style="{width: (file.progress() * 100) + '%'}">
            <span class="sr-only">{{file.progress()}}% Complete</span>
          </div>
        </div>
        <div class="btn-group">
          <a class="btn btn-xs btn-warning" ng-click="file.pause()" ng-show="!file.paused && file.isUploading()">
            Pause
          </a>
          <a class="btn btn-xs btn-warning" ng-click="file.resume()" ng-show="file.paused">
            Resume
          </a>
          <a class="btn btn-xs btn-danger" ng-click="file.cancel()">
            Cancel
          </a>
          <a class="btn btn-xs btn-info" ng-click="file.retry()" ng-show="file.error">
            Retry
          </a>
        </div>
      </div>
    </div>
  </div>
</body> -->

<!--
This area gives a simple file or folder upload
<div flow-init>
  <input type="file" flow-btn />
<input type="file" flow-btn flow-directory />
  Input OR Other element as upload button
<span flow-btn>Upload File</span>
</div>
-->
